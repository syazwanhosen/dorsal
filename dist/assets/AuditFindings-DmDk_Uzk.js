import{j as e}from"./radix-hoWLJplZ.js";import{a as g}from"./react-DyejIWKk.js";import{h as T}from"./index-Bl-JI4NS.js";import{X as E,aa as L}from"./ui-lp5hxHkm.js";import{C as f}from"./checkbox-IbMsF2G6.js";import"./redux-CrWtP8Qi.js";import"./maps-Cu4X6U0v.js";const k=["Simple","Standard","Technical"],A=[0,47,98],R=({isOpen:s,onClose:o})=>{if(!s)return null;const[i,x]=g.useState(0),m=l=>{const r=l.currentTarget.getBoundingClientRect(),d=l.clientX-r.left,c=r.width,h=A.reduce((n,a,p)=>Math.abs(a-d/c*100)<Math.abs(n-d/c*100)?p:n,0);x(h)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-md shadow-lg w-[600px] max-w-[90%] max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 lg:px-6 lg:py-4",children:[e.jsx("p",{className:"text-gray-900 text-[14px] lg:text-base",children:"Explanation Complexity Level"}),e.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close modal",children:e.jsx(E,{className:"h-5 w-5"})})]}),e.jsx("hr",{className:"border-t border-gray-300 w-full"}),e.jsxs("div",{className:"p-4 lg:px-6 lg:py-4",children:[e.jsxs("p",{className:"text-xs text-purple-600 mb-3 lg:mt-2",children:["Currently set to: ",k[i]," explanations"]}),e.jsx("div",{className:"relative w-full h-2 bg-gradient-to-r from-[#F3CC5C] via-[#AFB940] to-[#6CA724] rounded-full cursor-pointer",onClick:m,children:e.jsx("div",{className:"absolute top-[-8px] h-5 w-5 bg-white border border-gray-400 rounded-full cursor-pointer transition-all duration-200",style:{left:`${A[i]}%`}})}),e.jsx("div",{className:"flex justify-between mt-1",children:k.map(l=>e.jsx("span",{className:"text-xs text-[#89868D]",children:l},l))})]}),e.jsx("p",{className:"text-xs text-purple-600 lg:px-6 lg:pb-2 px-4 py-2",children:"AI Assistant Explanation"}),e.jsx("div",{className:"space-y-4 border border-gray-200 rounded-lg bg-white lg:px-4 lg:py-4 p-4 lg:mx-6 lg:mb-6 mx-4 mb-4",children:[{title:"ICU Room & Nursing",text:"You were charged for 5 days in the ICU, but your medical records only show 4 days. This looks like a mistake that you should appeal."},{title:"Cardiologist Fees",text:"There's no record of seeing the heart doctor on Day 5. This fee should be removed."},{title:"Medication & Consumables",text:"You were charged for medical supplies that weren't used. Even though it's a smaller amount, it's still wrong."},{title:"Operating Theatre & CABG Surgery Package",text:"These charges are correct and match your treatment records."}].map((l,r)=>e.jsxs("div",{className:"text-xs lg:text-xs",children:[e.jsx("span",{className:"font-semibold",children:l.title}),": ",l.text]},r))})]})})},$=s=>s===1?"Low":s>=.5&&s<=.99?"Medium":"High",F={High:"bg-[#CE3C29] text-white px-3 py-1 rounded-md w-16 text-center text-xs",Medium:"bg-[#FCAC12] text-white px-3 py-1 rounded-md w-16 text-center text-xs",Low:"bg-[#6CA724] text-white px-3 py-1 rounded-md w-16 text-center text-xs"};function M(){var b,N,y,w,v,C,S;const{submittedAudit:s,auditRecords:o}=T(t=>t.audit),i=o.at(-1);if(!i)return e.jsx("p",{className:"p-6 text-gray-600",children:"No audit data available."});const{invoice_number:x,date:m,patient_information:l,hospital_name:r,billing_data:d}=i,c=d.reduce((t,u)=>t+parseFloat(u.price||"0"),0),[h,n]=g.useState(!1),a=(y=(N=(b=s==null?void 0:s.data)==null?void 0:b.audit_response)==null?void 0:N.audit_result)==null?void 0:y.map(({code:t,confidence:u,description:B,explanation:D,estimated_savings:_})=>({id:t,severity:$(u),item:B,issueDescription:D,amount:_})),p=(v=(w=s==null?void 0:s.data)==null?void 0:w.audit_response)!=null&&v.audit_date?new Date(s.data.audit_response.audit_date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}):"",j=()=>{L.success("Your appeal is submitted")};return g.useEffect(()=>{window.scrollTo(0,0)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"w-full md:w-full lg:w-3/12 bg-white rounded-lg p-6 flex flex-col items-center text-center light-shadow",children:[e.jsx("h2",{className:"text-gray-700 text-base font-semibold mb-2",children:"Audit Status"}),e.jsx("div",{className:"text-[#6E39CB] text-6xl font-bold",children:(S=(C=s==null?void 0:s.data)==null?void 0:C.audit_response)==null?void 0:S.total_issues}),e.jsx("p",{className:"text-gray-500 text-[15px] mt-2",children:"errors found"}),e.jsxs("button",{className:"mt-2 text-[#6E39CB] text-base font-medium border border-[#00000026] rounded-md px-4 py-2",children:["Audit date: ",p]})]}),e.jsx("div",{className:"w-full md:w-full lg:w-9/12 bg-white rounded-lg p-6 light-shadow",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"w-40 text-gray-700 text-sm",children:"Receipt No:"}),e.jsx("span",{className:"text-gray-800 text-sm",children:x})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"w-40 text-gray-700 text-sm",children:"Discharge Date:"}),e.jsx("span",{className:"text-gray-800 text-sm",children:m})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"w-40 text-gray-700 text-sm",children:"Patient Name:"}),e.jsx("span",{className:"text-gray-800 text-sm",children:l.name})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"w-40 text-gray-700 text-sm",children:"Hospital:"}),e.jsx("span",{className:"text-gray-800 text-sm",children:r})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row font-semibold",children:[e.jsx("span",{className:"w-40 text-gray-900 text-[15px]",children:"Bill Total:"}),e.jsxs("span",{className:"text-black text-[15px]",children:["$",c]})]})]})})]}),e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md lg:mt-6 mt-4 lg:mb-8 mb-4",children:[e.jsxs("div",{className:"lg:flex flex-col md:flex-row md:justify-between items-center mb-4 gap-2",children:[e.jsxs("p",{className:"text-lg font-semibold text-black text-left md:text-left lg:text-left inline-flex items-center gap-2 relative pr-8",children:["Select to Appeal"," ",e.jsx("span",{className:"absolute top-[-4px] right-0 text-white bg-purple rounded-full cursor-pointer flex items-center justify-center text-xs h-5 w-5",onClick:()=>n(!0),children:"i"})]}),e.jsx("button",{className:"hidden lg:flex bg-gradient-to-r bg-[#8771BC] text-white px-6 py-2 rounded-md items-center shadow-md hover:shadow-lg transition-shadow md:w-auto justify-center",onClick:j,children:"Submit for Appeal"})]}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("div",{className:"hidden md:hidden lg:block",children:e.jsxs("table",{className:"w-full min-w-[400px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"pb-4 text-lg",children:[e.jsx("th",{className:"p-3 font-semibold text-left lg:py-4",colSpan:2,children:e.jsx(f,{})}),e.jsx("th",{className:"font-semibold text-left lg:py-4 pr-3",colSpan:4,children:"Severity"}),e.jsx("th",{className:"font-semibold text-left lg:py-4",children:"Item"}),e.jsx("th",{className:"font-semibold text-left lg:py-4",children:"Issue Description"}),e.jsx("th",{className:"font-semibold text-right lg:py-4",children:"Amount (USD)"})]})}),e.jsx("tbody",{children:a==null?void 0:a.map(t=>e.jsxs("tr",{className:"text-[#89868D] border-t border-[#89868d4a] text-sm",children:[e.jsx("td",{className:"font-semibold text-left p-3 lg:py-5",colSpan:2,children:e.jsx(f,{})}),e.jsx("td",{colSpan:4,children:e.jsx("button",{className:F[t.severity],children:t.severity})}),e.jsx("td",{children:t.item}),e.jsx("td",{children:t.issueDescription}),e.jsx("td",{className:"text-end",children:t.amount.toFixed(2)})]},t.id))})]})}),e.jsx("div",{className:"block md:block lg:hidden space-y-4",children:a==null?void 0:a.map(t=>e.jsxs("div",{className:"p-4 border border-[#89868d4a] rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(f,{}),e.jsx("div",{className:"font-medium text-gray-900",children:t.item})]}),e.jsxs("div",{className:"text-right font-semibold",children:["$",t.amount.toFixed(2)]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-sm text-[#89868D] mt-1 mb-2",children:t.issueDescription}),e.jsx("button",{className:F[t.severity],children:t.severity})]})]},t.id))})]})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-300 lg:w-100 lg:float-right",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-800 mb-4",children:"Summary"}),e.jsx("span",{className:"text-primary text-[14px] font-normal",children:"Amount (USD)"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 text-[14px] font-normal ",children:"Appeal Selected Total"}),e.jsx("span",{className:"text-primary text-[14px] font-normal",children:"$378.72"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 text-[14px] font-normal",children:"Lower Bound (Reds only)"}),e.jsx("span",{className:"text-primary text-[14px] font-normal",children:"$378.72"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 text-[14px] font-normal",children:"Upper Bound (Red + Yellow)"}),e.jsx("span",{className:"text-primary text-[14px] font-normal",children:"$457.15"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 text-[14px] font-normal mr-6",children:"Adjusted Final Bill (if all appeals succeed)"}),e.jsx("span",{className:"text-primary text-[14px] font-normal",children:"$14,004.26"})]})]})}),e.jsx("button",{className:" mt-4 lg:hidden bg-gradient-to-r bg-[#8771BC] text-white px-6 py-2 rounded-md items-center shadow-md hover:shadow-lg transition-shadow w-full justify-center",onClick:j,children:"Submit for Appeal"}),e.jsx(R,{isOpen:h,onClose:()=>n(!1)})]})}function X(){return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-lg font-medium text-[#8770BC] lg:mb-6 mb-3 ml-10",children:"Audit Findings"}),e.jsx(M,{})]})}export{X as default};
