import{j as e}from"./radix-hoWLJplZ.js";import{k as D,a1 as I,a2 as R,a3 as _,a4 as z,a5 as T,N as U,H as O,F as B,S as Q}from"./index-Bl-JI4NS.js";import{f as y,a}from"./react-DyejIWKk.js";import{S as Z}from"./Spinner-D0Y5dMqM.js";import{M as $,T as X,a as q,P as G,u as Y}from"./maps-Cu4X6U0v.js";import"./redux-CrWtP8Qi.js";import"./ui-lp5hxHkm.js";const J=()=>{const r=Y();return a.useEffect(()=>{setTimeout(()=>r.invalidateSize(),500)},[r]),null},K=()=>{const r=y(),d=new URLSearchParams(r.search),[t,l]=a.useState(null),[x,c]=a.useState(!0);return a.useEffect(()=>{const i=d.get("name");if(!i)return;const u=decodeURIComponent(i);c(!0),D([u]).then(o=>{const m=o[0];console.log("✅ Hospital Map Meta Data:",m),l(m)}).catch(o=>{console.error("❌ Failed to fetch hospital:",o),l(null)}).finally(()=>{c(!1)})},[r.search]),x?e.jsx(Z,{open:!0}):t?e.jsxs("section",{className:"container mx-auto p-4 relative px-4 sm:px-6 md:px-4 lg:px-8 xl:px-16",children:[e.jsxs("h2",{className:"lg:text-3xl text-2xl font-semibold mb-4 flex flex-wrap items-center gap-4",children:[t.name||decodeURIComponent(d.get("name")||""),e.jsx("span",{className:`px-2 text-sm w-fit py-1 mt-2 rounded  font-medium mb-1 ${t.negotiation_status==="Fixed"?"bg-[#6CA724] text-white":"bg-[#CE3C29] text-white"}`,children:(t.negotiation_status||"Fixed")+" Price"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-6",children:e.jsx("div",{className:"w-full border rounded-lg p-4 shadow-sm relative overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch h-full",children:[e.jsx("div",{className:"lg:col-span-8 h-full flex",children:e.jsx("div",{className:"bg-gray-200 rounded flex-grow flex items-center justify-center lg:min-h-[250px] min-h-[400px]",children:t.latitude&&t.longitude?e.jsxs($,{center:[t.latitude,t.longitude],zoom:15,className:"h-full w-full relative z-0",children:[e.jsx(X,{url:"https://tile.jawg.io/jawg-sunny/{z}/{x}/{y}{r}.png?access-token=zt7wt1ZXSBmlye8q8IQ6HuOv6p4idsbIbLl3Qi2ns2X4ZcbQbarIZpGE6YAkfi6L"}),e.jsx(q,{position:[t.latitude,t.longitude],children:e.jsx(G,{children:t.name})}),e.jsx(J,{})]}):e.jsx("p",{className:"text-gray-500",children:"Map not available"})})}),e.jsxs("div",{className:"lg:col-span-4 h-full flex flex-col justify-start",children:[e.jsx("h4",{className:"text-lg font-semibold mb-5",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2 lg:mb-6",children:[e.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[e.jsx("div",{className:"bg-[#6CA724] p-3 rounded-full",children:e.jsx(I,{className:"text-white w-4 h-4"})}),e.jsx("p",{children:t.address||"Address not available"})]}),e.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[e.jsx("div",{className:"bg-[#CE3C29] p-3 rounded-full",children:e.jsx(R,{className:"text-white w-4 h-4"})}),e.jsx("p",{children:t.phone||"Not available"})]})]})]})]})})})]}):e.jsx("div",{className:"text-center py-8 text-red-500",children:"Hospital not found"})},V=()=>{const r=y(),d=new URLSearchParams(r.search),t=decodeURIComponent(d.get("name")||""),[l,x]=a.useState(""),[c,i]=a.useState(""),[u,o]=a.useState(!1),[m,w]=a.useState([]),[C,P]=a.useState([]),[p,n]=a.useState([]),[k,j]=a.useState(!1),[v,b]=a.useState("");a.useEffect(()=>{t&&_(t).then(s=>w(s.categories)).catch(s=>console.error("Error fetching categories:",s))},[t]),a.useEffect(()=>{t&&l&&z(t,l).then(s=>P(s.sub_categories)).catch(s=>console.error("Error fetching subcategories:",s))},[t,l]);const E=()=>{t&&l&&c&&(j(!0),b(""),T(t,l,c).then(s=>{s.codes&&s.services?(n(s.codes.map((f,A)=>({cpt_code:f,service_name:s.services[A]||"Unknown Service"}))),o(!0)):n([])}).catch(()=>b("Failed to load services. Please try again.")).finally(()=>j(!1)))},M=()=>{x(""),i(""),n([]),o(!1)},[N,g]=a.useState(1),h=8,S=N*h,L=S-h,F=p.slice(L,S),H=s=>g(s);return e.jsxs("section",{className:"container mx-auto px-4 sm:px-6 pb-4 md:px-4 lg:px-8 xl:px-16 grid grid-cols-1 lg:grid-cols-4 gap-6 lg:pb-8 ",children:[e.jsxs("div",{className:"border rounded-lg p-4 shadow-sm col-span-1",children:[e.jsxs("h3",{className:"text-md font-semibold mb-4",children:["Other Services "," "]}),e.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm mb-4",value:l,onChange:s=>{x(s.target.value),i(""),g(1),n([])},children:[e.jsx("option",{value:"",children:"Select Service Category"}),m.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{className:"w-full border rounded px-3 py-2 text-sm mb-4",value:c,onChange:s=>{i(s.target.value),g(1),n([])},disabled:!l,children:[e.jsx("option",{value:"",children:"Select Subcategory"}),C.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("button",{onClick:E,className:"w-full bg-purple text-white py-2 px-4 rounded hover:bg-purple-700 transition mb-2",disabled:!l||!c,children:"Show Services"}),e.jsx("button",{onClick:M,className:"w-full border border-purple-400 text-black py-2 px-4 rounded hover:bg-purple-50 transition",children:"Reset"})]}),e.jsx("div",{className:"col-span-1 lg:col-span-3 border rounded-lg p-4 shadow-sm",children:k?e.jsx("p",{className:"text-sm text-gray-500",children:"Loading services..."}):v?e.jsx("p",{className:"text-sm text-red-500",children:v}):u?p.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"w-full text-left border-collapse text-sm ",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("th",{className:"py-4 px-2 text-[#3A3541]",children:"CPT Code"}),e.jsx("th",{className:"py-2 px-2 text-[#3A3541]",children:"Service Name"})]})}),e.jsx("tbody",{children:F.map((s,f)=>e.jsxs("tr",{className:"border-b border-gray-300",children:[e.jsx("td",{className:"py-4 px-2 text-[#89868D]",children:s.cpt_code}),e.jsx("td",{className:"py-4 px-2 text-[#89868D]",children:s.service_name})]},f))})]}),p.length>h&&e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:[...Array(Math.ceil(p.length/h)).keys()].map(s=>e.jsx("button",{onClick:()=>H(s+1),className:`px-3 py-1 rounded ${N===s+1?"bg-purple text-white":"bg-gray-200 text-black"}`,children:s+1},s+1))})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"No services available for this category."}):e.jsx("p",{className:"text-sm text-gray-500",children:"Please select a category and subcategory to view services."})})]})};function ce(){return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx(U,{}),e.jsx(O,{title:"Hospital Details"}),e.jsx(K,{}),e.jsx(V,{})]}),e.jsx(B,{}),e.jsx(Q,{})]})}export{ce as default};
